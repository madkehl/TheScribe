okay hello and welcome to this lecture this lecture we going to look at ec2 with S3 rolls so you might remember in the last lecture we created our secret access key access key ID are we then ran AWS configure and we were able to provision a bucket and basically went into the I am console and we went and deleted on that secret access kaid and our access queso now we are no longer able to communicate with S3 and so the next thing we're going to do is we're going to create a roll and we're going to give that S3 admin access and then we're going to apply that role to a running ec2 instance so this is 11 and you will need to look into the AWS console okay so plugged in so I'm going to go to the services and I'm going to go down developer one and we can see if we click on developer one that they are inheriting the administrative access from the group The Click on security credentials will say I'm actually generated in you access kids what consistency I'll just go ahead and delete that so that this use that no longer has any kind of access so what I want to do now is I want to go ahead and create a roll of a click on rolls it says what roles roles or a secure way to Grant permissions to entities that you trust to basically you allow a few ground control to resources within AWS so you could give your ec2 instance you know you basically create a role that allows I hear and create a row and in here we're going to create a role for an AWS service you can create a rope another AWS account you can also use it for web identities I'm supposed to be things like a cook me to or any open ID provide us to like Facebook for example and then you can also allow your rolls I'm to interact with active directory Sir Samuel to federation's this would be your corporate directory we going to do this for the eighth of your service and we going to do this for a different policy types now we could get our ec2 instance administrator access but that would be pretty insane Theophilus privilege soon hear what I want to do is just type in S3 and in here we can say that we got a policy that is Amazon S3 full access so we can click on that don't actually see what the policies look like you can click on the link and you can go in and look at the Jason and it essentially this is a policy document it's a whole bunch of just keep his Soca version and then we could a statement and our statement has some nested rules inside us we could expect allow action S3 results everything so basically anything inside as straight I'm just going to go up here and come back now that's my real name and the role description allows ec2 instances to Kuwait of your services on your behalf you might want to change that to cold AWS S3 on your behalf because that this road will only allow us to interact with us pray we can't do anything else let's go ahead and hit crit role and that has now credit I roll like a whole bunch of other roles in here from other courses just ignore that but you can see the road down here at my S3 admin access so don't want to do now is I want to go over again to ec2 I'm going to go to compute and click on ec2 and what I want to do is apply this role to my ec2 instance I'm but before we do that let's just look back into the ec2 instance and make sure that we definitely cannot access S3 set an error message saying invalid access key ID when calling the list bucket action now could go in and type AWS configure and do a whole bunch of new you know a secret access case an access key I know what I'm going to do is just go ahead and AWS S3 Ls I'm going to get the saying error message in the reason for this is because it still has access key ID and secret access case saved in his little hidden directory Inside Out Linux instance and I'll do the same and windows as well. And that's in order to yes s3lls will see that it doesn't have any credentials but now the role has kicked in and we can see out S3 buckets with a cloud Guru 1 2 3 4 - RK and we can actually go in and have a look at the contents of that sort AWS S3 LS than S3 and then a cloud Guru 1 2 3 4 - and then RK and you be able to stay out hello. Tips to you again we could hello Cloud gurus 222 hello hello to. TX ts3123 and again if we just run that command AWS S3 LS and have a look at the contents will be able to see out second text file in there after Windows uses if you want to locate where your configuration Prudential file is it's in your user profile and then forward slash. AWS and you can go if you just go to amazon.com account can attach and detach rolls to running ec2 instances without having to stop or terminate these instances I'm really quite a recent thing many many years that was a very popular exam topic used to have to terminate your ec2 instance and then recreate it with the role attached but now you can attach and detach rolls to running ec2 instances so that is if it is let you guys remember if you do have a snare question where you got rolls-royce's access key ID and secret access Kay's always choose roles given questions please let me know if not feel free to move on to next one and two 