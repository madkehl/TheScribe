and then when you recover AWS will first choose the most recent daily backup so choose the snapshot that's most recent and then apply those transaction logs that are relevant to that day and that's how we do a restore with automated backup and it's basically allows you to do a point-in-time recovery down to a second within the retention. Windows the retention. Window is between 1 and 35 days now cool thing about automated backups is there enabled by default the backup data is stored on S3 and you going to get free storage space equal to the size of your database so let's say you have an idea sense of 10 gigs you going to get 10 gigs worth of storage of that spray on S3 and backups a taken within a defined window during the backup Windows storage Ohio may be suspended while your data is being backed up and you may experience some elevated latency and Eucerin the last lecture where we basically to find out back up window we left everything as the default values but when you go encrypted database anything you do with that database in terms of making a copy of that data is going to be encrypted as well and at the present time encrypting an existing DB instance is not supported to use of IDs encryption print existing database you must first create a snapshot and then make a copy of that snapshot and encrypt a copy and will look at how to do that and general backups right now here I am in the AWS console and what I want to do I want to go over to that a database instance that we launched in the very last lecture to go to a cloud Guru and quick in-and-out instant actions I'm so high in here I can create a read replica Aurora read replica we can take a snapshot restore to a point in time migrate latest snapshot etcetera etcetera mean explain what read replicas and multi AZ the backup retention. So we can go from 7 days all the way down to 35 days we can also go and change the backup window it is in UTC time so you can say I wanted to start at 2 a.m. or 2:16 a.m. UTC and have a window for half an hour or so you can change that oil in that split skirt and actually let's go to click on snap shots and here we can see out automated snapshots I'm so these are snapshots this was first snap that was taken when I first created the state of ways by wanted to go and do a point in time I go back over to my instances clicking here and I can go to incidents actions and I can go to restore up to a point in time essentially what that's going to do if I clicking here and go to custom I'll be able to do the date the time and it's a weekend in UTC and I can go right down to the very second I said what it's going to do is and then bring it back to a point in time and I'm down to the second so it is really really cool let's have a look at one last thing before we move on to read replicas boost is multi AC I click on instances and I can hear I can go incidents actions and I can take a snapshot it's going to take a manual snapshot or call it a cloud Guru manual snap and go ahead and hit take snapshot that is now creating my Snapshot and then a pause the video and just wait for this to come up I'm just going to refresh the page hopefully that is finished being created now and then we go it is now available by clicking here what I can do is I can go to actions and I can go to copy snapshot when I go to copy snapshot I can actually scroll down you can see I can enable encryption so that's how we would 10 encryption on that basically created copy and then from that copy that encrypted copy of the snapshot I would then deploy a new IDs instance so that's important to remember Theory exam Alex Lin the differences between multi AZ and read replicas so what is multi AZ well here we go on elastic load balancer with some ec2 instances behind it and it will pointing at an RDS database Miss obvious database is in u.s. East 182 these ec2 instances if they make any rights to US-1 ASA any changes to that a database what will happen is those changes will be synchronously replicated to u.s. East 1B and USD swampy will be an exact copy of Us East 1A now it's important to understand this is for Disaster Recovery only so in the event that we lose Us East 1A it will automatically fail are the two US East one be so how does that work or if you remember the last lecture we had to connect. PHP file and we had this thing called the hostname the hostname could simply contained out DNS endpoints a cloud Guru. C1 xwm is spread across multiple availabilities Dynasty I need to turn on Multi AZ for Aurora but to the other IDs instances are you can definitely turn it on so you're moving on to read replicas what is a read replica well let's take our elastic load balancer without ec2 instances as we had in the last few slides ago and they basically doing a right to an RDS database now when you setup a read replica these rights are going to be pushed out to other copies of the database and you can have five read replicas / production database by to fold and so why would you do this will it say that 90% of your traffic is Ritu traffic and you could only see two instances 90% of what today doing is just doing raids from the database this could be like a very popular WordPress blog or popular Joomla site or something like that I'm to be honest it depends on the workload but a lot of applications a lot of it is read you know people are reading more than they're contributing on the internet generally speaking I'm so you know you could scale this out by instead of having those ec2 instances going to the production database the primary database they read from the read replicas or you could have it so that one reads from the production and the other to read from read replicas whatever this is a way of scaling out your database so that you take the load off the primary database can you spread that load across one or more read replicas you can also have read replicas of read replicas you will get some replication latency if you do do that but you can have a read replica in another availabilities but you can have a read replica in a another availability zone or you can have a read replica in a completely different region it's completely up to you to read replicas allow you to have a read-only copy of your production database this is achieved using a synchronous replication for the primary ideas incidents to the read replica and use read replicas I'm primarily for very real watch out for latency eat read replicas going to have its own DNS endpoint you can have read replicas that have multi AZ enabled this is very new feature that was released in January 2018 so you can have a read replica in a completely different availabilities are in a completely different region that has multi AZ turned on and you can create read replicas of multi AZ Source databases so another words if you have multi AZ turned onto your you know to your IDs instance you can still go in and create read replicas I doesn't break it at all and then read replicas can be promoted to become their own databases and this will break the replication I'm but this can be very very useful if you need a copy of your database maybe you've got too many read replicas you're not using enough of them and you want to do some you know some other soda work on your databases and you don't want to do this on your production database you can promote your read replica cassava scaling April full performance enhancement where is multi AZ is for Disaster Recovery you can go back now and delete this idea Cincinnati using it anymore so just go over to your instance actions and go ahead and hit the late I'm not going to create a final snapshot you can if you want if you aren't going to create a final Snapchat it says I acknowledge that upon installation all my automatic backups including system snapshots and point-in-time Recovery will no longer be available so will delete holy automatic backups when you delete your IDs instance so that is it for this that you guys if you have any questions please let me know thank you 